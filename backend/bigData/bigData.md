# 一期(大数据基础)

微服务/k8s/大数据/人工智能

## 数据存储

文件存储 -> 关系型/非关系型/noSql 数据库 -> 数据仓库/数据湖



### 传统数据库

以 redis 总体结构为例 => 源码 => 大数据

+ 架构
+ 优化算法



mysql -> 单表 2000万

+ 分库分表
+ 读写分离
+ 数据库中间件: 路由, 本质受单体性能瓶颈限制



### 数据仓库

大数据 -> 计算和存储分开

+ 硬盘无限扩容, 不受单表/单体性能限制
+ 将各节点的计算分布到各节点



分布式文件系统 HDFS hadoop (spark, clickHouse 都可以独立于该体系 without hadoop ~ )

逻辑性的树形结构, 以网状结构 & 调度节点/源数据节点组成架构, 纯存储

容量大, 



数据仓库 

HDFS + 分析 & 报告(HIVE), 从外部抽取资源, 仅数据来源



数据工厂 

将多个数据来源 () 加工数据, 生成新的任务报告



数据湖

数据仓库(结构化) + 半结构化 + 非结构化



## 大数据应用



物联网/云计算/人工智能(海量数据) - 百万级



+ 明确目的
+ 数据收集, 确定目标数据(哪些数据), 整合数据 ETL
  + 离线: 基于文件日志, floom; 基于数据库, binlog; 基于表: spook
  + 开放API, 互联网爬虫, 电信探针
+ 数据处理/数据治理, 原始数据清洗(空/缺少)(多个系统不一致数据, 状态值等等)
  + 某平台用户体系
+ 关联汇总数据, 相关表处理
+ 数据分析, 通过 SQL 处理
+ 数据大屏 & 分析报告 - 报表分析系统



数据存储

+ 分布式文件系统  HDFS, KUDU
  + 内聚性: 高度自治
  + 透明: 不区分远程和本地
+ Nosql非关系数据库 HBASE, REDIS, mangoDB
  + HBASE 列式数据库, 文件式, 读更快, 写慢
  + 也可以结构不固定, 关系性/非结构性
+ Newsql: nosql + acid     voltDB, TiDB



## 大数据计算



批式计算: 分批计算, 有界   HIVE, 视图



流式计算: 事务驱动型计算, 无界的数据流计算, 实时计算, 直接推出结果  Flink(批 & 流), Spark(批 & 流), MapReduce, 

+ 如埋点日志, 分析



交互计算: SQL

图计算: 知识图谱  图数据结构  neo4j   

+ 如好友推荐



## 数据分析

可视化分析 => 给人



数据挖掘 => 给机器



预测性分析 => 预测性判断, 行为后续分析, 用户画像

> 最优决策? 



语义分析



数据质量和数据管理



OLAP

ROLAP: 关系分析

MOLAP: 块+维度分析, 性能好, 废硬盘   麒麟

HOLAP: 混合架构



MPP架构 大规模 并行 处理

MPP落地: 

MPP数据库, 每个节点数据分权 presto

预计算架构, 先分维度计算, 后存储, klin

基于搜索引擎: es



可视化工具 - 数据看板

yonghong

FineBI



## 主流框架

离线大数据结构: 批处理   t+1   非实时, sparkSql, mapReduce

 DWD HIVE SQL DWD(还原数据源)  -> 宽表 DWM ODS sql脚本 -> 数据集市 DM -> 数据中心

+ DWM 独立数据库
+ 应用数据库
+ scala



lambada 架构(离线 + 实时链路)  +kafka 来做实时

双仓: 中间结果   离线 -> kafka(实时数仓, 中间结果) -> 实时链路

缺点: 

+ 两套代码, 资源使用多
+ 离线结果不一致



kappa 架构  只用 kafka 来做实时数仓, 实时 dm 产出

唯一缺点: 

+ 不支持 PB 海量数据(无意义)
+ dm 阶段进行计算



湖仓一体架构: *iceboat* 冰山, 这种方案

kafka(数据缓存) + 处理非结构数据



## 常用技术栈



计算层

hadoop 2.0

mapReduce -> yez -> spark

hive(1.0 & 2.0)

spark(3.0)

Flink(4.0)

pig -> mahout -> python (推荐算法)



仓库

Hive 



分布式协作

zookeeper: 服务治理



作业流调度

oozie

阿兹卡班



安装部署工具

ambari



实时数仓

Kafka ClickHouse



Spark

flink

flume(抽日志, 串流/并流) + hadoop; elk + es

sqoop(抽关系数据库) + hadoop









# 二期(计算框架 & 方式)



# 三期(EPR)



# 四期(数据分析)

